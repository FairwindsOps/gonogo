addons:
# tests for the bundle schema validation process; should return valid
- name: metrics-server 
  versions:
    start: 5.10.2
    end: 5.10.14
  notes: A text field with general notes
  source:
    chart: metrics-server
    repository: https://charts.bitnami.com/bitnami
  warnings: 
  - "warning 1"
  - "warning 2"
  compatible_k8s_versions:
  - 1.20
  - 1.18
  necessary_api_versions:
  - apps/v1
  - core/v1
  values_schema: |
    {
      "$schema": "http://json-schema.org/schema#",
      "type": "object",
      "properties": {
        "image": {
          "type": "object",
          "required": [
            "repository",
            "pullPolicy"
            ],
            "properties": {
              "repository": {
                "type": "string",
                "pattern": "^[a-z0-9]+"
              },
              "pullPolicy": {
                "type": "string",
                "pattern": "pizza"
              }
            }
          }
        }
      }
  opa_checks:
  - Type From the existing OPA Package 
  - OPACustomCheck 
  - Handle resources
# tests for release/bundle matching; should not be found in cluster
- name: goldilocks 
  versions:
    start: 1.1.0
    end: 1.2.0
  notes: A text field with general notes
  source:
    chart: goldilocks
    repository: https://charts.fairwinds.com/stable
  warnings: 
  - "warning 1"
  - "warning 2"
  compatible_k8s_versions:
  - 1.20
  - 1.18
  necessary_api_versions:
  - apps/v1
  - core/v1
  values_schema: ""
  opa_checks:
  - Type From the existing OPA Package 
  - OPACustomCheck 
  - Handle resources
# tests for locating schema files upstream
- name: apache 
  versions:
    start: 8.5.11
    end: 9.0.1
  notes: A text field with general notes
  source:
    chart: apache
    repository: https://charts.bitnami.com/bitnami
  warnings: 
  - "warning 1"
  - "warning 2"
  compatible_k8s_versions:
  - 1.20
  - 1.18
  necessary_api_versions:
  - apps/v1
  - core/v1
  values_schema: ""
  opa_checks:
  - Type From the existing OPA Package 
  - OPACustomCheck 
  - Handle resources
# tests for no user-supplied values
- name: mysql 
  versions:
    start: 8.4.2
    end: 8.8.23
  notes: A text field with general notes
  source:
    chart: mysql
    repository: https://charts.bitnami.com/bitnami
  warnings: 
  - "warning 1"
  - "warning 2"
  compatible_k8s_versions:
  - 1.20
  - 1.18
  necessary_api_versions:
  - apps/v1
  - core/v1
  values_schema: ""
  opa_checks:
  - Type From the existing OPA Package 
  - OPACustomCheck 
  - Handle resources